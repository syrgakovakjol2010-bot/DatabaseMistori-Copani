<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M.C. ULTIMATE | BOSS TERMINAL</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- –¶–í–ï–¢–û–í–ê–Ø –ü–ê–õ–ò–¢–†–ê --- */
        :root {
            --bg: #000000;
            --card: #0a0a0a;
            --border: #1a1a1a;
            --text: #ffffff;
            --text-dim: #666666;
            --accent: #ffffff;
            --gold: #ffd700;
            --green: #00ff66;
            --red: #ff3333;
            --blue: #0088ff;
            --purple: #bf00ff;
        }

        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--bg); 
            color: var(--text); 
            font-family: 'Inter', sans-serif; 
            margin: 0; 
            padding: 0; 
            overflow: hidden; /* –ú—ã —É–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª–æ–º –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            height: 100vh;
        }

        /* --- –≠–ö–†–ê–ù –í–•–û–î–ê --- */
        #auth-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            background: var(--bg); z-index: 5000; transition: 0.5s;
        }
        .auth-card {
            width: 90%; max-width: 380px; background: var(--card);
            border: 1px solid var(--border); padding: 40px; border-radius: 30px;
            text-align: center; box-shadow: 0 20px 80px rgba(0,0,0,0.8);
        }
        .auth-card h1 { font-size: 3.5rem; letter-spacing: 15px; margin: 0; font-weight: 900; }
        .auth-card p { color: var(--text-dim); font-size: 0.7rem; letter-spacing: 3px; margin-bottom: 30px; text-transform: uppercase; }

        input, textarea {
            width: 100%; padding: 16px; margin: 10px 0; background: #111;
            border: 1px solid #222; color: #fff; border-radius: 15px;
            font-size: 16px; transition: 0.3s;
        }
        input:focus { border-color: #fff; background: #000; }

        .btn {
            width: 100%; padding: 16px; border-radius: 15px; font-weight: 800;
            border: none; cursor: pointer; text-transform: uppercase;
            transition: 0.3s; font-size: 14px;
        }
        .btn-white { background: #fff; color: #000; }
        .btn-white:active { transform: scale(0.95); }
        .btn-out { background: transparent; color: var(--text-dim); border: 1px solid #222; margin-top: 15px; }

        /* --- –ì–õ–ê–í–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–° --- */
        #app { display: none; height: 100vh; width: 100vw; flex-direction: row; }

        /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (PC) */
        .sidebar {
            width: 300px; background: #050505; border-right: 1px solid var(--border);
            display: flex; flex-direction: column; padding: 30px; z-index: 100;
        }
        .sidebar-logo { font-size: 1.8rem; font-weight: 900; letter-spacing: 5px; margin-bottom: 50px; }
        .nav-list { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        .nav-item {
            background: transparent; border: none; color: var(--text-dim);
            padding: 15px 20px; border-radius: 15px; text-align: left;
            cursor: pointer; font-weight: 600; display: flex; align-items: center;
            gap: 15px; transition: 0.3s;
        }
        .nav-item:hover, .nav-item.active { background: #111; color: #fff; }
        .nav-item.active { border-left: 5px solid #fff; }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω–∞—è –∑–æ–Ω–∞ */
        .main-wrapper { flex: 1; display: flex; flex-direction: column; height: 100vh; position: relative; }
        .top-bar {
            padding: 15px 30px; display: flex; justify-content: space-between;
            align-items: center; background: rgba(0,0,0,0.6); backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border); z-index: 50;
        }
        .view-port { flex: 1; overflow-y: auto; padding: 30px; padding-bottom: 120px; }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px; margin-bottom: 40px;
        }
        .stat-card {
            background: var(--card); border: 1px solid var(--border);
            padding: 25px; border-radius: 25px;
        }
        .stat-card small { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; font-weight: bold; letter-spacing: 1px; }
        .stat-card b { display: block; font-size: 2rem; margin-top: 10px; font-weight: 900; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞ */
        .order-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        .order-card {
            background: var(--card); border: 1px solid var(--border);
            padding: 25px; border-radius: 30px; position: relative;
            transition: 0.3s; display: flex; flex-direction: column;
        }
        .order-card:hover { border-color: #444; transform: translateY(-5px); }
        .price-badge {
            position: absolute; top: 25px; right: 25px; color: var(--gold);
            font-weight: 900; background: rgba(255,215,0,0.05);
            border: 1px solid var(--gold); padding: 5px 12px; border-radius: 10px;
        }
        .ref-link {
            background: #050505; border: 1px dashed #333; padding: 12px;
            border-radius: 12px; margin: 15px 0; font-size: 0.8rem; color: var(--blue);
            word-break: break-all;
        }
        .status-pill {
            display: inline-block; font-size: 0.65rem; font-weight: bold;
            padding: 4px 10px; border-radius: 6px; text-transform: uppercase;
            border: 1px solid #333; margin-top: auto; align-self: flex-start;
        }
        .st-new { color: var(--green); border-color: var(--green); }
        .st-work { color: var(--blue); border-color: var(--blue); }
        .st-done { color: #fff; border-color: #fff; opacity: 0.5; }
        .st-reject { color: var(--red); border-color: var(--red); opacity: 0.4; }

        /* –ö–æ–º–∞–Ω–¥–∞ */
        .staff-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .staff-card {
            background: var(--card); border: 1px solid var(--border);
            padding: 20px; border-radius: 25px; display: flex; align-items: center; gap: 20px;
        }
        .avatar-box {
            width: 60px; height: 60px; border-radius: 50%; background: #111;
            display: flex; align-items: center; justify-content: center;
            font-weight: 900; font-size: 1.4rem; border: 1px solid #333;
        }
        .warn-strip { display: flex; gap: 5px; margin-top: 10px; }
        .dot { width: 10px; height: 10px; background: #222; border-radius: 50%; }
        .dot-red { background: var(--red); box-shadow: 0 0 10px var(--red); }
        
        .rank { font-size: 0.6rem; padding: 2px 6px; border-radius: 4px; font-weight: 900; margin-left: 10px; }
        .rj { background: #333; } .rm { background: var(--blue); } .rs { background: var(--purple); box-shadow: 0 0 10px var(--purple); }

        /* --- –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ (MOBILE) --- */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; height: 85px;
            background: rgba(5,5,5,0.9); backdrop-filter: blur(20px);
            border-top: 1px solid var(--border); display: none;
            justify-content: space-around; align-items: center; padding-bottom: 25px; z-index: 1000;
        }
        .nav-btn-mob {
            background: none; border: none; color: var(--text-dim);
            font-size: 0.6rem; font-weight: bold; display: flex;
            flex-direction: column; align-items: center; gap: 8px;
            text-transform: uppercase;
        }
        .nav-btn-mob.active { color: #fff; }

        @media (max-width: 1000px) {
            .sidebar { display: none; }
            .bottom-nav { display: flex; }
            .top-bar { padding: 15px 20px; }
            .view-port { padding: 20px; }
            .order-grid { grid-template-columns: 1fr; }
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        #toast {
            position: fixed; top: 30px; left: 50%; transform: translateX(-50%);
            background: #fff; color: #000; padding: 15px 40px; border-radius: 50px;
            font-weight: 900; display: none; z-index: 10000;
            box-shadow: 0 10px 50px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body>

    <div id="toast"></div>

    <div id="auth-screen">
        <div class="auth-card" id="auth-box">
            <h1>M.C.</h1>
            <p>MISTORI COPANI v18.0</p>
            <input type="text" id="l-phone" placeholder="705 163 333">
            <input type="password" id="l-pass" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="btn btn-white" onclick="tryLogin()">–í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£</button>
            <button class="btn btn-out" onclick="showReg(true)">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
            <p onclick="fullSystemReset()" style="margin-top:30px; font-size:0.5rem; color:#222; cursor:pointer;">–°–ë–†–û–°–ò–¢–¨ –í–°–ï –û–®–ò–ë–ö–ò –ü–ê–ú–Ø–¢–ò</p>
        </div>
        
        <div class="auth-card" id="reg-box" style="display:none;">
            <h2>–ù–û–í–´–ô ID</h2>
            <input type="text" id="r-name" placeholder="–ò–º—è">
            <input type="text" id="r-phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
            <input type="password" id="r-pass" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="btn btn-white" onclick="tryRegister()">–°–û–ó–î–ê–¢–¨ –ê–ö–ö–ê–£–ù–¢</button>
            <button class="btn btn-out" onclick="showReg(false)">–ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="app">
        <div class="sidebar">
            <div class="sidebar-logo">MISTORI</div>
            <div class="nav-list">
                <button class="nav-item active" id="pc-orders" onclick="tab('orders')">üíº –ü–†–û–ï–ö–¢–´</button>
                <button class="nav-item" id="pc-add" onclick="tab('add')">‚ûï –ù–û–í–´–ô –ó–ê–ö–ê–ó</button>
                <button class="nav-item" id="pc-team" onclick="tab('team')">üë• –ö–û–ú–ê–ù–î–ê</button>
                <button class="nav-item" id="pc-fin" onclick="tab('fin')">üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê</button>
            </div>
            <button class="nav-item" onclick="location.reload()" style="color:var(--red); border:1px solid #222; margin-top:20px;">–í–´–•–û–î</button>
        </div>

        <div class="main-wrapper">
            <div class="top-bar">
                <div style="display:flex; align-items:center; gap:15px;">
                    <div id="me-ava" class="avatar-box" style="width:40px; height:40px; font-size:1rem;">A</div>
                    <div>
                        <b id="me-name">Akjol</b> <br>
                        <small id="me-role" style="color:var(--green); font-size:0.6rem; text-transform:uppercase; font-weight:bold;"></small>
                    </div>
                </div>
                <div style="font-weight:900; letter-spacing:5px; font-size:0.8rem; opacity:0.3;">BOSS TERMINAL</div>
            </div>

            <div class="view-port" id="view-port">
                </div>

            <div class="bottom-nav">
                <button class="nav-btn-mob active" id="mb-orders" onclick="tab('orders')">üì¶<br>–ó–ê–ö–ê–ó–´</button>
                <button class="nav-btn-mob" id="mb-add" onclick="tab('add')">‚ûï<br>–ù–û–í–´–ô</button>
                <button class="nav-btn-mob" id="mb-team" onclick="tab('team')">üë•<br>–ö–û–ú–ê–ù–î–ê</button>
                <button class="nav-btn-mob" id="mb-fin" onclick="tab('fin')">üìä<br>–ö–ê–°–°–ê</button>
            </div>
        </div>
    </div>

    <script>
        /* --- CORE LOGIC --- */

        // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–∞–∑—ã
        let DB = JSON.parse(localStorage.getItem('mc_final_v18')) || {
            users: [
                { name: "–°–µ–∑–∏–º", phone: "777800603", pass: "admin2", role: "manager", xp: 5, warns: 0 }
            ],
            orders: []
        };

        let me = null;

        // 2. –í—Ö–æ–¥ –∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        function tryLogin() {
            const ph = document.getElementById('l-phone').value.trim();
            const ps = document.getElementById('l-pass').value.trim();

            if (ph === '705163333' && ps === 'admin123') {
                me = { name: "–ê–∫–∂–æ–ª", phone: ph, role: "director", xp: 999, warns: 0 };
                enterApp();
            } else {
                let found = DB.users.find(u => u.phone === ph && u.pass === ps);
                if (found) { me = found; enterApp(); } 
                else { notify('–û–®–ò–ë–ö–ê: –î–û–°–¢–£–ü –ó–ê–ü–†–ï–©–ï–ù'); }
            }
        }

        function tryRegister() {
            const n = document.getElementById('r-name').value;
            const p = document.getElementById('r-phone').value;
            const ps = document.getElementById('r-pass').value;
            if(!n || !p || !ps) return notify('–ó–ê–ü–û–õ–ù–ò–¢–ï –í–°–ï –ü–û–õ–Ø!');
            
            if(DB.users.find(u => u.phone === p) || p === '705163333') {
                return notify('–≠–¢–û–¢ –ù–û–ú–ï–† –£–ñ–ï –ó–ê–ù–Ø–¢');
            }

            DB.users.push({ name: n, phone: p, pass: ps, role: "programmer", xp: 0, warns: 0 });
            save();
            notify('ID –°–û–ó–î–ê–ù! –ú–û–ñ–ù–û –í–•–û–î–ò–¢–¨.');
            setTimeout(() => location.reload(), 1500);
        }

        function enterApp() {
            document.getElementById('auth-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('auth-screen').style.display = 'none';
                document.getElementById('app').style.display = 'flex';
                document.getElementById('me-name').innerText = me.name;
                document.getElementById('me-role').innerText = me.role;
                document.getElementById('me-ava').innerText = me.name[0];
                tab('orders');
            }, 500);
        }

        // 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function tab(t) {
            const port = document.getElementById('view-port');
            
            // UI –ü–ö
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            const pcBtn = document.getElementById('pc-' + t);
            if(pcBtn) pcBtn.classList.add('active');

            // UI –ú–æ–±–∏–ª–∫–∞
            document.querySelectorAll('.nav-btn-mob').forEach(b => b.classList.remove('active'));
            const mbBtn = document.getElementById('mb-' + t);
            if(mbBtn) mbBtn.classList.add('active');

            if(t === 'orders') renderOrders();
            if(t === 'add') renderAdd();
            if(t === 'team') renderTeam();
            if(t === 'fin') renderFin();
        }

        // 4. –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
        function renderOrders() {
            const port = document.getElementById('view-port');
            const workCount = DB.orders.filter(o => o.status === 'work').length;
            const profit = DB.orders.filter(o => o.status === 'done').reduce((a, b) => a + Number(b.price), 0);

            port.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card"><small>–í —Ä–∞–±–æ—Ç–µ</small><b>${workCount}</b></div>
                    <div class="stat-card" style="border-color:var(--gold)"><small>–û–±—â–∏–π –¥–æ—Ö–æ–¥</small><b style="color:var(--gold)">${profit} —Å</b></div>
                </div>
                <div class="order-grid" id="order-list"></div>
            `;

            let list = DB.orders.filter(o => o.status !== 'archive').reverse();
            const listDiv = document.getElementById('order-list');

            if(list.length === 0) listDiv.innerHTML = '<p style="color:#222; text-align:center; padding-top:50px;">–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç...</p>';

            list.forEach(o => {
                let idx = DB.orders.indexOf(o);
                listDiv.innerHTML += `
                    <div class="order-card" style="${o.status==='reject'?'opacity:0.4; border-color:var(--red)':''}">
                        <div class="price-badge">${o.price} —Å</div>
                        <h3 style="margin:0;">${o.client}</h3>
                        <p style="color:var(--text-dim); font-size:0.85rem; margin:15px 0;">${o.desc}</p>
                        ${o.ref ? `<div class="ref-link">üîó –°—Å—ã–ª–∫–∏ / –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã:<br>${o.ref}</div>` : ''}
                        <div class="status-pill st-${o.status}">${o.status}</div>
                        
                        <div style="margin-top:20px; display:flex; gap:10px; flex-wrap:wrap;">
                            ${o.status === 'new' ? `<button onclick="updateSt(${idx},'work')" class="btn btn-white" style="padding:10px; width:auto; flex:1;">–í–ó–Ø–¢–¨</button>` : ''}
                            ${o.status === 'work' ? `<button onclick="updateSt(${idx},'done')" class="btn btn-white" style="background:var(--gold); padding:10px; width:auto; flex:1;">–ó–ê–í–ï–†–®–ò–¢–¨</button>` : ''}
                            ${['director','manager'].includes(me.role) && o.status !== 'reject' ? `<button onclick="updateSt(${idx},'reject')" class="btn btn-out" style="padding:5px 10px; color:var(--red); font-size:0.6rem; margin:0; width:auto;">–û–¢–ö–ê–ó</button>` : ''}
                            ${me.role === 'director' ? `<button onclick="updateSt(${idx},'archive')" class="btn btn-out" style="padding:5px; font-size:0.5rem; border:none; width:auto; margin:0;">–£–î–ê–õ–ò–¢–¨</button>` : ''}
                        </div>
                    </div>
                `;
            });
        }

        function renderAdd() {
            if(me.role === 'programmer') return notify('–£ –í–ê–° –ù–ï–¢ –ü–†–ê–í –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø');
            document.getElementById('view-port').innerHTML = `
                <div style="max-width:600px; background:var(--card); border:1px solid var(--border); padding:30px; border-radius:30px;">
                    <h2>–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ M.C.</h2>
                    <input id="in-c" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞">
                    <input id="in-p" type="number" placeholder="–ë—é–¥–∂–µ—Ç (—Å–æ–º)">
                    <textarea id="in-d" placeholder="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Å—Å—ã–ª–∫–∏" style="height:120px;"></textarea>
                    <input id="in-dt" type="date">
                    <button class="btn btn-white" onclick="saveOrder()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨ –ü–†–û–ï–ö–¢</button>
                </div>
            `;
        }

        function saveOrder() {
            const c = document.getElementById('in-c').value;
            const p = document.getElementById('in-p').value;
            const d = document.getElementById('in-d').value;
            const dt = document.getElementById('in-dt').value;
            if(!c || !p || !dt) return notify('–ó–ê–ü–û–õ–ù–ò–¢–ï –í–°–ï –î–ê–ù–ù–´–ï!');
            DB.orders.push({ client: c, price: p, desc: d, date: dt, status: 'new', ref: '' });
            save(); notify('–ü–†–û–ï–ö–¢ –î–û–ë–ê–í–õ–ï–ù'); tab('orders');
        }

        function renderTeam() {
            const port = document.getElementById('view-port');
            port.innerHTML = '<h2>–ö–æ–º–∞–Ω–¥–∞ Mistori Copani</h2><div class="staff-grid" id="staff-list"></div>';
            const listDiv = document.getElementById('staff-list');

            let sorted = [...DB.users].sort((a,b) => (b.xp||0) - (a.xp||0));

            sorted.forEach(u => {
                let rank = u.xp >= 10 ? {n:'SENIOR', c:'rs'} : (u.xp >= 3 ? {n:'MIDDLE', c:'rm'} : {n:'JUNIOR', c:'rj'});
                let dots = '';
                for(let i=1; i<=3; i++) dots += `<div class="dot ${u.warns >= i ? 'dot-red' : ''}"></div>`;

                listDiv.innerHTML += `
                    <div class="staff-card">
                        <div class="avatar-box">${u.name[0]}</div>
                        <div style="flex:1;">
                            <b style="font-size:1.1rem;">${u.name}</b> <span class="rank ${rank.c}">${rank.n}</span> <br>
                            <small style="color:var(--text-dim); text-transform:uppercase;">${u.role} | XP: ${u.xp || 0}</small>
                            <div class="warn-strip">${do
        function renderAdd() {
            if(me.role === 'programmer') return showMsg('–ù–ï–¢ –ü–†–ê–í –î–õ–Ø –°–û–ó–î–ê–ù–ò–Ø');
            document.getElementById('view-port').innerHTML = `
                <div style="max-width:600px; background:var(--card-bg); padding:30px; border-radius:30px; border:1px solid #222;">
                    <h2>–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ M.C.</h2>
                    <input id="in-c" placeholder="–ò–º—è –∑–∞–∫–∞–∑—á–∏–∫–∞">
                    <input id="in-p" type="number" placeholder="–ë—é–¥–∂–µ—Ç (—Å–æ–º)">
                    <textarea id="in-d" placeholder="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ" style="height:150px;"></textarea>
                    <textarea id="in-r" placeholder="–°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã / –ø—Ä–∏–º–µ—Ä—ã" style="height:60px;"></textarea>
                    <input id="in-dt" type="date">
                    <button class="btn btn-white" onclick="saveOrder()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
                </div>
            `;
        }

        function saveOrder() {
            const c = document.getElementById('in-c').value;
            const p = document.getElementById('in-p').value;
            const d = document.getElementById('in-d').value;
            const r = document.getElementById('in-r').value;
            const dt = document.getElementById('in-dt').value;
            if(!c || !p || !dt) return showMsg('–ó–ê–ü–û–õ–ù–ò–¢–ï –ö–õ–Æ–ß–ï–í–´–ï –ü–û–õ–Ø');
            DB.orders.push({ client: c, price: p, desc: d, ref: r, date: dt, status: 'new' });
            save(); 
            showMsg('–ó–ê–ö–ê–ó –£–°–ü–ï–®–ù–û –î–û–ë–ê–í–õ–ï–ù'); 
            tab('orders');
        }

        function renderTeam() {
            const port = document.getElementById('view-port');
            port.innerHTML = '<h2>–ö–æ–º–∞–Ω–¥–∞ Mistori Copani</h2> <div class="team-container" id="team-list"></div>';
            const grid = document.getElementById('team-list');

            let sorted = [...DB.users].sort((a,b) => (b.xp||0) - (a.xp||0));

            sorted.forEach(u => {
                let rank = u.xp >= 10 ? {n:'SENIOR', c:'rank-sen'} : (u.xp >= 3 ? {n:'MIDDLE', c:'rank-mid'} : {n:'JUNIOR', c:'rank-jun'});
                let dots = '';
                for(let i=1; i<=3; i++) dot
